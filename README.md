# 高校生・大学生マッチングアプリ（レビュー機能）

## ①課題名
高校生・大学生マッチングアプリ レビュー機能（SQL版）

## ②課題内容（どんな作品か）
高校生が大学生とのWEB面談後にレビューを投稿・閲覧できるマッチングアプリのレビュー機能部分をMySQLデータベースを使用して実装。

**主な機能:**
- 4項目（話しやすさ、参考になった度、ワクワク度、時間の正確性）の5段階評価システムで面談の質を数値化
- 大学名、学部、評価、投稿日による高度な検索・絞り込み機能をSQLクエリで実現
- 匿名投稿に対応し、高校生のプライバシーを保護しながら有益な情報共有を促進
- レスポンシブデザインでPC・スマートフォン両対応
- 素のPHP + MySQL + CSSで構築し、フレームワークに依存しない基礎技術を重視

**技術スタック:**
- フロントエンド: HTML5, CSS3, JavaScript（バニラJS）
- バックエンド: PHP 8.x
- データベース: MySQL 8.0
- サーバー: Apache（XAMPP環境）

## ③アプリのデプロイURL
http://localhost/gs_kadai/kadai06_basic_php/
（XAMPP環境での動作確認用）

## ④アプリのログイン用IDまたはPassword（ある場合）
現在はPhase 1のため、ログイン機能は未実装。
Phase 2でユーザー認証機能を実装予定。

## ## ⑤工夫した点・こだわった点
**データベース設計:**
- 正規化とパフォーマンスのバランス調整
- 外部キー制約による整合性保証

**セキュリティ対策:**
- プリペアドステートメントによるSQLインジェクション対策の徹底実装
- HTMLエスケープ処理によるXSS対策の実装
- エラーハンドリングと適切なメッセージ表示による安全性確保

**ユーザビリティ:**
- 複数条件での動的検索機能をWHERE句の動的生成で実現
- 星評価の視覚的表現とカード型レイアウトによる直感的なUI設計
- フォーム入力値の保持（Sticky Form）機能でユーザビリティを向上
- レスポンシブデザインによるマルチデバイス対応

**パフォーマンス:**
- レビューデータと大学生データのJOIN処理による効率的なデータ取得
- 平均評価の自動計算機能をSQL関数で実装

## ⑥難しかった点・次回トライしたいこと（又は機能）
**難しかった点:**
- 複数の検索条件を組み合わせた動的SQLクエリの構築とパフォーマンス最適化
- 外部キー制約の設定とデータ整合性の保証
- 大量データを扱う際のインデックス設計とクエリ最適化
- セキュリティホールを作らないためのバリデーション処理の網羅的実装

**次回トライしたい機能:**
- ユーザー認証システム（セッション管理、パスワードハッシュ化）
- 画像アップロード機能（大学生のプロフィール写真）
- いいね機能とソート機能の追加
- 管理者ダッシュボードによるデータ分析機能
- REST API化とフロントエンド分離
- Redis等を使用したキャッシュ機能

## ⑦フリー項目（感想、シェアしたいこと等なんでも）

### 感想
素のPHPでの開発により、フレームワークの便利さを再認識すると同時に、基礎技術の重要性を深く理解できました。
MySQLとの連携部分では、SQLクエリの書き方ひとつでパフォーマンスが大きく変わることを実感し、データベース設計の奥深さを学びました。
セキュリティ対策を一から実装することで、Webアプリケーションの脆弱性について実践的に学習できました。
要件定義書から実装までの一連の流れを経験し、設計の重要性とドキュメント化の価値を実感しました。

また、同時にJSONファイル管理バージョンも実装し、データベースとファイルベースの管理方法の違いやパフォーマンス特性を実際に体験できたのが大きな学びでした。

### 技術的な学び
- PDOを使用したデータベース接続とプリペアドステートメントの実装方法
- SQL JOINを活用した効率的なデータ取得とパフォーマンス最適化
- フォームデータのバリデーションとサニタイゼーション処理
- エラーハンドリングとユーザーフレンドリーなメッセージ表示
- レスポンシブWebデザインの実装とCSS設計

### プロジェクト構成
```
kadai06_basic_php/
├── README.md              # 本ファイル
├── requirements.md        # 要件定義書
├── create_database.sql    # データベース作成スクリプト
├── insert_dummy_data.sql  # ダミーデータ投入スクリプト
├── config/
│   └── database.php      # DB接続設定
├── css/
│   └── style.css         # スタイルシート
├── sql_commands/
│   └── view_reviews_queries.sql  # レビュー確認用SQLクエリ集
├── index.php             # レビュー一覧ページ（トップページ）
├── post_review.php       # レビュー投稿ページ
├── db_test.php          # DB接続テスト用
└── view_reviews_table.php # レビューテーブル確認用
```

### セットアップ手順
1. **XAMPP環境の準備**
   ```bash
   # XAMPPをインストールし、Apache・MySQLを起動
   ```

2. **データベースの作成**
   ```bash
   # MySQL（phpMyAdmin）にアクセス
   # create_database.sqlを実行してテーブル作成
   # insert_dummy_data.sqlを実行してダミーデータ投入
   ```

3. **設定ファイルの調整**
   ```php
   // config/database.phpでデータベース接続情報を環境に合わせて調整
   ```

4. **動作確認**
   ```
   # ブラウザでhttp://localhost/gs_kadai/kadai06_basic_php/にアクセス
   ```

### 参考資料
- [PHP公式ドキュメント - PDO](https://www.php.net/manual/ja/book.pdo.php)
- [MySQL公式リファレンス](https://dev.mysql.com/doc/refman/8.0/ja/data-types.html)
- [PHP Security](https://www.php.net/manual/ja/security.php)
- [Responsive Web Design - MDN](https://developer.mozilla.org/ja/docs/Learn/CSS/CSS_layout/Responsive_Design)
- [IPA Webアプリケーションセキュリティ](https://www.ipa.go.jp/security/vuln/websecurity.html)
